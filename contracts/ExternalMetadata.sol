//SPDX-License-Identifier: Unlicense
pragma solidity ^0.8.0;

import 'base64-sol/base64.sol';
import './AnybodyProblem.sol';
import './Speedruns.sol';
import '@openzeppelin/contracts/access/Ownable.sol';
import './BokkyPooBahsDateTimeLibrary.sol';
import './StringsExtended.sol';
import "hardhat/console.sol";

// import "hardhat/console.sol";

/// @title ExternalMetadata
/// @notice
/// @author @okwme
/// @dev The updateable and replaceable problemMetadata contract

contract ExternalMetadata is Ownable {
    using BokkyPooBahsDateTimeLibrary for uint;
    address payable public anybodyProblem;
    address payable public speedruns;
    uint256 constant radiusMultiplyer = 100;

    enum ThemeName {
        SaturatedExcludeDarks,
        PastelHighlighterMarker,
        MarkerPastelHighlighter,
        ShadowHighlighterMarker,
        Berlin
    }

    enum ThemeLayer {
        BG,
        Core,
        FG
    }

    struct ThemeSpecs {
        uint256 hueStart;
        uint256 hueEnd;
        uint256 saturationStart;
        uint256 saturationEnd;
        uint256 lightnessStart;
        uint256 lightnessEnd;
    }

    mapping(ThemeLayer => uint256) private svgShapeCategorySizes;
    mapping(ThemeLayer => string[]) private svgShapes;
    mapping(ThemeName => mapping(ThemeLayer => ThemeSpecs)) private colourThemes;

    constructor() {
        setupColorThemes();
        setupSVGPaths();
    }

    function setupSVGPaths() internal {

        svgShapeCategorySizes[ThemeLayer.BG] = 10;
        svgShapeCategorySizes[ThemeLayer.Core] = 1;
        svgShapeCategorySizes[ThemeLayer.FG] = 1;

        // BACKGROUND SHAPES

        svgShapes[ThemeLayer.BG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M510.575 257.189C503.007 253.114 494.192 252.116 485.876 253.946C470.492 257.355 430.742 266.17 385.836 276.316C379.849 277.646 373.778 274.569 371.366 268.915C371.283 268.665 371.2 268.416 371.034 268.249C368.373 262.428 370.618 255.526 376.107 252.116C406.127 233.655 438.642 213.531 462.592 198.063C467.997 194.57 472.488 189.747 475.315 183.926C480.97 172.533 484.712 153.24 463.34 131.869C463.34 131.869 442.883 113.158 419.931 119.894C411.699 122.305 404.796 127.877 400.139 135.112C391.574 148.5 369.454 183.261 344.589 222.595C341.263 227.834 334.61 229.913 328.872 227.501C328.789 227.501 328.706 227.418 328.706 227.418C322.802 225.007 319.475 218.77 320.889 212.533C329.122 178.105 337.937 140.434 344.007 112.409C345.338 106.089 345.088 99.5196 343.009 93.3659C338.934 81.391 327.874 65.0918 297.688 65.0918C297.688 65.0918 269.912 66.3392 258.52 87.2953C254.445 94.8627 253.447 103.678 255.276 111.993C258.686 127.461 267.584 167.377 277.729 212.616C279.143 218.77 275.817 224.923 269.996 227.252C269.497 227.418 268.998 227.668 268.499 227.834C262.678 230.329 255.942 228.167 252.615 222.761C234.154 192.741 213.946 160.143 198.479 136.193C194.986 130.787 190.163 126.297 184.342 123.469C172.949 117.815 153.656 114.072 132.284 135.444C132.284 135.444 113.573 155.901 120.309 178.853C122.721 187.086 128.293 193.988 135.527 198.645C148.833 207.127 183.011 228.915 221.847 253.447C227.169 256.857 229.165 263.592 226.67 269.414C226.587 269.58 226.503 269.829 226.42 269.996C224.009 275.817 217.772 279.06 211.701 277.563C177.606 269.414 140.6 260.765 112.908 254.778C106.588 253.447 100.019 253.696 93.8648 255.775C81.8067 259.85 65.5076 270.827 65.5076 301.097C65.5076 301.097 66.755 328.872 87.711 340.265C95.2785 344.34 104.093 345.338 112.409 343.508C127.627 340.099 166.629 331.45 211.036 321.471C217.19 320.057 223.427 323.467 225.755 329.371C225.838 329.704 226.004 329.953 226.088 330.286C228.499 336.107 226.337 342.76 221.015 346.086C191.41 364.215 159.394 384.09 135.777 399.391C130.372 402.884 125.881 407.707 123.054 413.528C117.399 424.921 113.657 444.214 135.029 465.586C135.029 465.586 155.486 484.297 178.438 477.561C186.67 475.149 193.572 469.577 198.229 462.343C206.545 449.287 227.834 415.857 251.95 377.687C255.276 372.364 262.096 370.285 267.833 372.78C268.332 373.03 268.831 373.196 269.33 373.362C275.151 375.774 278.395 382.011 276.898 388.165C268.831 421.927 260.266 458.434 254.362 485.793C253.031 492.113 253.281 498.683 255.36 504.837C259.434 516.895 270.411 533.194 300.681 533.194C300.681 533.194 328.456 531.947 339.849 510.991C343.924 503.423 344.922 494.608 343.092 486.292C339.766 471.074 331.117 432.322 321.138 388.165C319.808 382.094 322.968 375.94 328.706 373.612C329.454 373.279 330.203 373.03 330.951 372.697C336.772 370.119 343.674 372.198 347.001 377.687C365.13 407.125 384.755 438.725 399.89 462.176C403.383 467.582 408.206 472.072 414.027 474.9C425.42 480.554 444.713 484.297 466.085 462.925C466.085 462.925 484.795 442.468 478.059 419.516C475.648 411.283 470.076 404.381 462.841 399.724C449.619 391.325 415.857 369.787 377.271 345.421C372.115 342.178 369.953 335.608 372.281 329.953C372.531 329.371 372.78 328.789 372.947 328.207C375.192 322.136 381.595 318.727 387.832 320.224C421.595 328.29 458.018 336.772 485.461 342.677C491.781 344.007 498.35 343.758 504.504 341.679C516.562 337.604 532.861 326.627 532.861 296.357C532.778 296.357 531.531 268.582 510.575 257.189Z" />',
                '</g>'
            ))
        );
        svgShapes[ThemeLayer.BG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M525.793 298.935H454.276C452.031 298.935 450.95 296.191 452.613 294.611C453.195 294.029 453.86 293.53 454.442 292.948C454.442 292.948 532.612 226.503 462.758 138.854C461.844 137.69 460.097 137.606 459.099 138.688L409.038 188.749C407.458 190.329 404.713 189.165 404.88 186.92C404.88 186.338 404.963 185.756 404.963 185.173C404.963 185.173 413.279 82.971 301.929 70.3308C300.515 70.1645 299.184 71.3287 299.184 72.7424V142.929C299.184 145.174 296.44 146.255 294.943 144.592C294.444 144.01 293.945 143.511 293.447 142.929C293.447 142.929 227.002 64.7592 139.353 134.613C138.189 135.527 138.105 137.274 139.186 138.272L189.914 188.999C191.494 190.579 190.329 193.323 188.084 193.157C187.086 193.074 186.088 193.074 185.173 193.074C185.173 193.074 82.971 184.758 70.3308 296.108C70.1645 297.521 71.3287 298.852 72.7424 298.852H142.929C145.174 298.852 146.172 301.596 144.592 303.093C144.592 303.093 144.592 303.093 144.509 303.176C144.509 303.176 66.3392 369.62 136.193 457.27C137.108 458.434 138.854 458.517 139.852 457.436L189.914 407.374C191.494 405.794 194.238 406.959 194.071 409.204C193.988 410.368 193.988 411.449 193.905 412.613C193.905 412.613 185.589 514.816 296.939 527.456C298.353 527.622 299.683 526.458 299.683 525.044V454.027C299.683 451.781 302.428 450.7 303.925 452.363C304.424 452.946 305.006 453.528 305.505 454.11C305.505 454.11 371.949 532.279 459.598 462.426C460.762 461.511 460.846 459.765 459.765 458.767L409.869 408.871C408.289 407.291 409.453 404.547 411.699 404.713C412.281 404.713 412.863 404.796 413.445 404.796C413.445 404.796 515.647 413.112 528.288 301.762C528.454 300.266 527.29 298.935 525.793 298.935Z"/>',
                '</g>'
            ))
        );
        svgShapes[ThemeLayer.BG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M429.661 319.142V279.226H470.741L501.261 182.429L402.218 160.558L381.678 196.067L347.167 176.109L367.707 140.6L299.184 65.7568L230.661 140.6L251.202 176.109L216.607 196.067L196.067 160.558L97.0248 182.429L127.544 279.226H168.625V319.142H127.544L97.0248 415.856L196.067 437.81L216.607 402.218L251.202 422.176L230.661 457.769L299.184 532.528L367.707 457.769L347.167 422.176L381.678 402.218L402.218 437.81L501.261 415.856L470.741 319.142H429.661Z"/>',
                '</g>'
            ))
        );
        svgShapes[ThemeLayer.BG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M482.006 363.921L451.575 300.331L482.171 236.41C485.562 238.89 489.779 240.379 494.327 240.379C505.738 240.379 515 231.117 515 219.706C515 208.294 505.738 199.033 494.327 199.033C483.825 199.033 475.225 206.806 473.819 216.894L407.252 193.41L383.519 126.263C387.819 125.685 391.954 123.7 395.179 120.392C403.283 112.288 403.283 99.2231 395.179 91.1192C387.075 83.0154 374.01 83.0154 365.906 91.1192C358.463 98.5615 357.885 110.387 364.252 118.49L300.248 149.087L236.079 118.408C238.808 114.852 240.462 110.469 240.462 105.673C240.462 94.2615 231.2 85 219.788 85C208.377 85 199.115 94.2615 199.115 105.673C199.115 116.258 207.054 124.94 217.308 126.181L193.575 193.492L126.512 217.142C126.015 212.594 124.031 208.129 120.558 204.656C112.454 196.552 99.3885 196.552 91.2846 204.656C83.1808 212.76 83.1808 225.825 91.2846 233.929C98.6442 241.288 110.221 241.95 118.325 235.831L149.252 300.413L118.738 364.169C115.183 361.275 110.635 359.538 105.673 359.538C94.2615 359.538 85 368.8 85 380.212C85 391.623 94.2615 400.885 105.673 400.885C115.927 400.885 124.527 393.36 126.098 383.519L193.575 407.335L216.977 473.654C212.512 474.15 208.212 476.135 204.738 479.525C196.635 487.629 196.635 500.694 204.738 508.798C212.842 516.902 225.908 516.902 234.012 508.798C241.206 501.604 241.95 490.44 236.327 482.337L300.496 451.658L363.756 481.923C361.11 485.396 359.621 489.696 359.621 494.41C359.621 505.821 368.883 515.083 380.294 515.083C391.706 515.083 400.967 505.821 400.967 494.41C400.967 484.238 393.608 475.721 383.85 474.067L407.335 407.417L473.737 384.015C474.398 388.233 476.3 392.202 479.525 395.427C487.629 403.531 500.694 403.531 508.798 395.427C516.902 387.323 516.902 374.258 508.798 366.154C501.521 358.712 490.11 358.05 482.006 363.921Z"/>',
                '</g>'
            ))
        );
        svgShapes[ThemeLayer.BG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M488.787 242.969C485.71 240.64 484.463 236.649 485.627 232.907C508.163 160.808 455.773 149.332 455.773 149.332C424.588 141.348 402.138 160.724 389.249 175.194C399.561 158.895 412.034 129.872 395.236 101.848C395.236 101.848 369.207 54.863 306.589 96.9415C303.346 99.1036 299.188 99.0205 296.111 96.7752C281.142 85.7982 236.319 59.1873 204.968 106.089C204.968 106.089 184.927 137.773 208.627 174.529C195.571 160.142 170.454 141.515 139.769 149.415C139.769 149.415 87.3784 160.974 109.914 232.99C111.079 236.649 109.831 240.64 106.754 243.052C91.7858 254.195 53.4495 289.621 89.5405 332.947C89.5405 332.947 108.833 354.901 142.18 351.658C125.964 360.556 108.251 376.106 106.006 402.218C106.006 402.218 99.6028 455.523 175.111 458.018C178.936 458.184 182.346 460.679 183.51 464.338C189.248 481.968 210.038 529.867 262.844 510.076C262.844 510.076 291.534 498.516 298.436 463.673C305.421 498.516 334.028 510.076 334.028 510.076C386.834 529.867 407.624 482.051 413.362 464.338C414.526 460.679 417.936 458.184 421.761 458.018C497.186 455.523 490.866 402.218 490.866 402.218C488.704 376.273 471.157 360.722 455.024 351.824C487.207 354.069 505.668 332.947 505.668 332.947C541.842 289.621 503.506 254.195 488.787 242.969Z"/>',
                '</g>'
            ))
        );
        svgShapes[ThemeLayer.BG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M525.793 299.517L438.476 219.019L412.78 103.095L299.434 138.438L186.171 102.763L160.143 218.603L72.576 298.852L159.893 379.35L185.589 495.273L298.935 459.931L412.198 495.606L438.226 379.765L525.793 299.517Z"/>',
                '</g>'
            ))
        );
        svgShapes[ThemeLayer.BG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M532.446 299.184C532.446 278.228 486.542 259.933 418.102 249.871C459.432 194.404 478.891 148.999 464.089 134.197C449.286 119.395 403.882 138.854 348.415 180.184C338.436 111.744 320.141 65.9233 299.184 65.9233C278.228 65.9233 259.933 111.827 249.871 180.267C194.404 138.854 148.999 119.395 134.197 134.197C119.395 148.999 138.854 194.404 180.184 249.871C111.744 259.85 65.9233 278.228 65.9233 299.184C65.9233 320.141 111.827 338.435 180.267 348.498C138.854 403.882 119.395 449.286 134.197 464.089C148.999 478.891 194.404 459.432 249.871 418.102C259.85 486.542 278.145 532.446 299.184 532.446C320.224 532.446 338.435 486.542 348.498 418.102C403.965 459.432 449.37 478.891 464.172 464.089C478.974 449.286 459.515 403.882 418.185 348.415C486.542 338.436 532.446 320.141 532.446 299.184Z"/>',
                '</g>'
            ))
        );
        svgShapes[ThemeLayer.BG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M299.184 70.4971L333.945 124.135L386.668 87.8773L398.31 150.829L460.846 137.44L447.54 200.059L510.408 211.618L474.151 264.341L527.872 299.184L474.151 333.945L510.408 386.668L447.54 398.31L460.846 460.846L398.31 447.54L386.668 510.408L333.945 474.151L299.184 527.872L264.341 474.151L211.618 510.408L200.059 447.54L137.44 460.846L150.829 398.31L87.8773 386.668L124.135 333.945L70.4971 299.184L124.135 264.341L87.8773 211.618L150.829 200.059L137.44 137.44L200.059 150.829L211.618 87.8773L264.341 124.135L299.184 70.4971Z"/>',
                '</g>'
            ))
        );
        svgShapes[ThemeLayer.BG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M302.261 70.6635L305.588 91.7858C312.573 136.359 369.038 151.494 397.395 116.401L410.784 99.7691C413.029 97.0249 417.353 99.5196 416.106 102.846L408.455 122.721C392.239 164.799 433.57 206.13 475.648 189.914L495.523 182.263C498.849 181.015 501.344 185.34 498.6 187.585L481.968 200.974C446.875 229.248 462.01 285.796 506.583 292.781L527.706 296.108C531.198 296.69 531.198 301.679 527.706 302.261L506.583 305.588C462.01 312.573 446.875 369.038 481.968 397.395L498.6 410.784C501.344 413.029 498.849 417.353 495.523 416.106L475.648 408.455C433.57 392.239 392.239 433.57 408.455 475.648L416.106 495.523C417.353 498.849 413.029 501.344 410.784 498.6L397.395 481.968C369.121 446.875 312.573 462.01 305.588 506.583L302.261 527.706C301.679 531.198 296.69 531.198 296.108 527.706L292.781 506.583C285.796 462.01 229.331 446.875 200.974 481.968L187.585 498.6C185.34 501.344 181.015 498.849 182.263 495.523L189.914 475.648C206.13 433.57 164.799 392.239 122.721 408.455L102.846 416.106C99.5196 417.353 97.0249 413.029 99.7691 410.784L116.401 397.395C151.494 369.121 136.359 312.573 91.7858 305.588L70.6635 302.261C67.1708 301.679 67.1708 296.69 70.6635 296.108L91.7858 292.781C136.359 285.796 151.494 229.331 116.401 200.974L99.7691 187.585C97.0249 185.34 99.5196 181.015 102.846 182.263L122.721 189.914C164.799 206.13 206.13 164.799 189.914 122.721L182.263 102.846C181.015 99.5196 185.34 97.0249 187.585 99.7691L200.974 116.401C229.248 151.494 285.796 136.359 292.781 91.7858L296.108 70.6635C296.607 67.1708 301.679 67.1708 302.261 70.6635Z"/>',
                '</g>'
            ))
        );
        svgShapes[ThemeLayer.BG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M319.641 87.2122L332.365 103.844C345.171 120.559 366.959 127.711 387.167 121.64L407.291 115.653C423.59 110.829 440.056 122.721 440.472 139.769L440.97 160.725C441.469 181.764 454.941 200.309 474.816 207.377L494.608 214.362C510.658 220.017 516.895 239.393 507.248 253.364L495.357 270.578C483.382 287.958 483.382 310.827 495.357 328.207L507.248 345.421C516.895 359.392 510.575 378.768 494.608 384.423L474.816 391.408C454.941 398.393 441.469 416.938 440.97 438.06L440.472 459.016C440.056 475.981 423.59 487.956 407.291 483.132L387.167 477.145C366.959 471.157 345.171 478.226 332.365 494.941L319.641 511.573C309.33 525.045 288.956 525.045 278.644 511.573L265.921 494.941C253.114 478.226 231.327 471.074 211.119 477.145L190.994 483.132C174.695 487.956 158.23 476.064 157.814 459.016L157.315 438.06C156.816 417.021 143.344 398.476 123.469 391.408L103.677 384.423C87.6277 378.768 81.3908 359.392 91.0372 345.421L102.929 328.207C114.904 310.827 114.904 287.958 102.929 270.578L91.0372 253.364C81.3908 239.393 87.7109 220.017 103.677 214.362L123.469 207.377C143.344 200.392 156.816 181.847 157.315 160.725L157.814 139.769C158.23 122.804 174.695 110.829 190.994 115.653L211.119 121.64C231.327 127.628 253.114 120.559 265.921 103.844L278.644 87.2122C288.956 73.7405 309.33 73.7405 319.641 87.2122Z"/>',
                '</g>'
            ))
        );

        // CORE SHAPES

        svgShapes[ThemeLayer.Core].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M113 4.44099L135.393 0.5L154.561 12.682L176.774 17.697L189.672 36.328L208.303 49.226L213.318 71.439L225.5 90.607L221.559 113L225.5 135.393L213.318 154.561L208.303 176.774L189.672 189.672L176.774 208.303L154.561 213.318L135.393 225.5L113 221.559L90.607 225.5L71.439 213.318L49.226 208.303L36.328 189.672L17.697 176.774L12.682 154.561L0.5 135.393L4.44099 113L0.5 90.607L12.682 71.439L17.697 49.226L36.328 36.328L49.226 17.697L71.439 12.682L90.607 0.5L113 4.44099Z"/>',
                '</g>'
            ))
        );

        // FOREGROUND SHAPES

        svgShapes[ThemeLayer.FG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M298.8 168.6C299 169.7 300.6 169.7 300.8 168.5C303.3 146.3 308.7 72.5999 277 36.5999C277 36.5999 264.9 21.6999 249 28.3999C249 28.3999 221.1 34.2999 208.8 106.6C208.5 108.2 210.7 108.9 211.5 107.5C218.3 94.1999 232.6 70.8999 250.1 71.2999C250.1 71.3999 280.2 69.8999 298.8 168.6Z"/>',
                    '<path d="M206.3 207.9C207.2 208.5 208.4 207.4 207.6 206.5C193.7 189.1 145.4 133.1 97.4999 130.1C97.4999 130.1 78.3999 128.1 71.8999 144.1C71.8999 144.1 56.2999 168 98.7999 227.8C99.6999 229.1 101.8 228.1 101.3 226.5C96.6999 212.3 90.3999 185.7 103 173.6C103.1 173.7 123.3 151.3 206.3 207.9Z"/>',
                    '<path d="M168.6 301.2C169.7 301 169.7 299.4 168.5 299.2C146.3 296.7 72.5999 291.3 36.5999 323C36.5999 323 21.6999 335.1 28.3999 351C28.3999 351 34.2999 378.9 106.6 391.2C108.2 391.5 108.9 389.3 107.5 388.5C94.1999 381.7 70.8999 367.4 71.2999 349.9C71.3999 349.9 69.8999 319.8 168.6 301.2Z"/>',
                    '<path d="M207.9 393.7C208.5 392.8 207.4 391.6 206.5 392.4C189.1 406.3 133.1 454.6 130.1 502.5C130.1 502.5 128.1 521.6 144.1 528.1C144.1 528.1 168 543.7 227.8 501.2C229.1 500.3 228.1 498.2 226.5 498.7C212.3 503.3 185.7 509.6 173.6 497C173.7 496.9 151.3 476.7 207.9 393.7Z"/>',
                    '<path d="M301.2 431.4C301 430.3 299.4 430.3 299.2 431.5C296.7 453.7 291.3 527.4 323 563.4C323 563.4 335.1 578.3 351 571.6C351 571.6 378.9 565.7 391.2 493.4C391.5 491.8 389.3 491.1 388.5 492.5C381.7 505.8 367.4 529.1 349.9 528.7C349.9 528.6 319.8 530.1 301.2 431.4Z"/>',
                    '<path d="M393.7 392.1C392.8 391.5 391.6 392.6 392.4 393.5C406.3 410.9 454.6 466.9 502.5 469.9C502.5 469.9 521.6 471.9 528.1 455.9C528.1 455.9 543.7 432 501.2 372.2C500.3 370.9 498.2 371.9 498.7 373.5C503.3 387.7 509.6 414.3 497 426.4C496.9 426.3 476.7 448.7 393.7 392.1Z"/>',
                    '<path d="M431.4 298.8C430.3 299 430.3 300.6 431.5 300.8C453.7 303.3 527.4 308.7 563.4 277C563.4 277 578.3 264.9 571.6 249C571.6 249 565.7 221.1 493.4 208.8C491.8 208.5 491.1 210.7 492.5 211.5C505.8 218.3 529.1 232.6 528.7 250.1C528.6 250.1 530.1 280.2 431.4 298.8Z"/>',
                    '<path d="M392.1 206.3C391.5 207.2 392.6 208.4 393.5 207.6C410.9 193.7 466.9 145.4 469.9 97.4999C469.9 97.4999 471.9 78.3999 455.9 71.8999C455.9 71.8999 432 56.2999 372.2 98.7999C370.9 99.6999 371.9 101.8 373.5 101.3C387.7 96.6999 414.3 90.3999 426.4 103C426.3 103.1 448.7 123.3 392.1 206.3Z"/>',
                    '<path d="M196.8 61.1999L208.6 56.7999L202.4 67.6999L210.2 77.4999L197.9 74.9999L191 85.4999L189.6 72.9999L177.5 69.6999L188.9 64.4999L188.3 51.8999L196.8 61.1999Z"/>',
                    '<path d="M191.9 96.5999L195.3 89.6999L197.2 97.1999L204.9 98.2999L198.3 102.4L199.6 110L193.7 105L186.9 108.7L189.8 101.5L184.2 96.0999L191.9 96.5999Z"/>',
                    '<path d="M237.4 89.9999L240.8 82.9999L242.7 90.4999L250.4 91.5999L243.8 95.6999L245.1 103.3L239.2 98.3999L232.4 102L235.3 94.7999L229.7 89.3999L237.4 89.9999Z"/>',
                    '<path d="M58.1999 204.1L63.3999 192.7L66.6999 204.7L79.1999 206.1L68.6999 213.1L71.2999 225.4L61.3999 217.6L50.4999 223.8L54.8999 212L45.5999 203.5L58.1999 204.1Z"/>',
                    '<path d="M79.7999 232.6L77.1999 225.3L83.8999 229.3L90.0999 224.6L88.2999 232.2L94.6999 236.6L86.9999 237.3L84.6999 244.7L81.6999 237.6L73.8999 237.7L79.7999 232.6Z"/>',
                    '<path d="M107.2 195.7L104.7 188.4L111.4 192.4L117.5 187.7L115.8 195.3L122.1 199.7L114.4 200.4L112.2 207.8L109.1 200.7L101.4 200.8L107.2 195.7Z"/>',
                    '<path d="M61.1999 403.2L56.7999 391.4L67.6999 397.6L77.4999 389.8L74.9999 402.1L85.4999 409L72.9999 410.4L69.6999 422.5L64.4999 411.1L51.8999 411.7L61.1999 403.2Z"/>',
                    '<path d="M96.5999 408.1L89.6999 404.7L97.1999 402.8L98.2999 395.1L102.4 401.7L110 400.4L105 406.3L108.7 413.1L101.5 410.2L96.0999 415.8L96.5999 408.1Z"/>',
                    '<path d="M89.9999 362.6L82.9999 359.2L90.4999 357.3L91.5999 349.6L95.6999 356.2L103.3 354.9L98.3999 360.8L102 367.6L94.7999 364.7L89.3999 370.3L89.9999 362.6Z"/>',
                    '<path d="M204.1 541.8L192.7 536.6L204.7 533.3L206.1 520.8L213.1 531.3L225.4 528.7L217.6 538.6L223.8 549.5L212 545.1L203.5 554.4L204.1 541.8Z"/>',
                    '<path d="M232.6 520.2L225.3 522.8L229.3 516.1L224.6 509.9L232.2 511.7L236.6 505.3L237.3 513L244.7 515.3L237.6 518.3L237.7 526.1L232.6 520.2Z"/>',
                    '<path d="M195.7 492.8L188.4 495.3L192.4 488.6L187.7 482.5L195.3 484.2L199.7 477.9L200.4 485.6L207.8 487.8L200.7 490.9L200.8 498.6L195.7 492.8Z"/>',
                    '<path d="M403.2 538.8L391.4 543.2L397.6 532.3L389.8 522.5L402.1 525L409 514.5L410.4 527L422.5 530.3L411.1 535.5L411.7 548.1L403.2 538.8Z"/>',
                    '<path d="M408.1 503.4L404.7 510.3L402.8 502.8L395.1 501.7L401.7 497.6L400.4 490L406.3 495L413.1 491.3L410.2 498.5L415.8 503.9L408.1 503.4Z"/>',
                    '<path d="M362.6 510L359.2 517L357.3 509.5L349.6 508.4L356.2 504.3L354.9 496.7L360.8 501.6L367.6 498L364.7 505.2L370.3 510.6L362.6 510Z"/>',
                    '<path d="M541.8 395.9L536.6 407.3L533.3 395.3L520.8 393.9L531.3 386.9L528.7 374.6L538.6 382.4L549.5 376.2L545.1 388L554.4 396.5L541.8 395.9Z"/>',
                    '<path d="M520.2 367.4L522.8 374.7L516.1 370.7L509.9 375.4L511.7 367.8L505.3 363.4L513 362.7L515.3 355.3L518.3 362.4L526.1 362.3L520.2 367.4Z"/>',
                    '<path d="M492.8 404.3L495.3 411.6L488.6 407.6L482.5 412.3L484.2 404.7L477.9 400.3L485.6 399.6L487.8 392.2L490.9 399.3L498.6 399.2L492.8 404.3Z"/>',
                    '<path d="M538.8 196.8L543.2 208.6L532.3 202.4L522.5 210.2L525 197.9L514.5 191L527 189.6L530.3 177.5L535.5 188.9L548.1 188.3L538.8 196.8Z"/>',
                    '<path d="M503.4 191.9L510.3 195.3L502.8 197.2L501.7 204.9L497.6 198.3L490 199.6L495 193.7L491.3 186.9L498.5 189.8L503.9 184.2L503.4 191.9Z"/>',
                    '<path d="M510 237.4L517 240.8L509.5 242.7L508.4 250.4L504.3 243.8L496.7 245.1L501.6 239.2L498 232.4L505.2 235.3L510.6 229.7L510 237.4Z"/>',
                    '<path d="M395.9 58.1999L407.3 63.3999L395.3 66.6999L393.9 79.1999L386.9 68.6999L374.6 71.2999L382.4 61.3999L376.2 50.4999L388 54.8999L396.5 45.5999L395.9 58.1999Z"/>',
                    '<path d="M367.4 79.7999L374.7 77.1999L370.7 83.8999L375.4 90.0999L367.8 88.2999L363.4 94.6999L362.7 86.9999L355.3 84.6999L362.4 81.6999L362.3 73.8999L367.4 79.7999Z"/>',
                    '<path d="M404.3 107.2L411.6 104.7L407.6 111.4L412.3 117.5L404.7 115.8L400.3 122.1L399.6 114.4L392.2 112.2L399.3 109.1L399.2 101.4L404.3 107.2Z"/>',
                '</g>'
            ))
        );

        svgShapes[ThemeLayer.FG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M189.027 234.634L254.492 219.63L217.249 275.449L251.723 333.055L187.062 314.925L143.031 365.475L140.263 298.402L78.5486 272.145L141.513 248.835L147.408 181.94L189.027 234.634Z"/>',
                    '<path d="M288.341 394.055L336.837 424.421L280.75 435.674L266.817 491.136L238.773 441.301L181.703 445.141L220.464 403.075L199.119 350.024L251.098 373.96L295.04 337.164L288.341 394.055Z"/>',
                    '<path d="M338.356 463.718L355.146 474.257L335.766 478.097L330.943 497.299L321.297 480.062L301.559 481.401L314.956 466.844L307.543 448.535L325.495 456.752L340.678 444.069L338.356 463.718Z"/>',
                    '<path d="M377.295 499.085L383.994 509.356L372.115 506.498L364.435 516.054L363.452 503.819L352.02 499.442L363.273 494.798L363.899 482.563L371.847 491.851L383.636 488.636L377.295 499.085Z"/>',
                    '<path d="M415.699 491.494L425.166 499.264L412.931 500.157L408.465 511.499L403.91 500.157L391.674 499.442L401.052 491.583L398.016 479.705L408.376 486.224L418.647 479.615L415.699 491.494Z"/>',
                    '<path d="M194.832 183.012L193.939 163.185L208.139 176.939L226.627 170.062L217.964 187.835L230.289 203.286L210.73 200.517L199.834 216.95L196.44 197.48L177.327 192.211L194.832 183.012Z"/>',
                    '<path d="M201.798 130.854L206.443 119.512L210.819 130.943L223.055 131.836L213.587 139.607L216.535 151.485L206.175 144.876L195.815 151.306L198.94 139.428L189.563 131.569L201.798 130.854Z"/>',
                    '<path d="M173.755 103.525L174.826 91.3784L182.418 100.935L194.296 98.1661L187.598 108.348L193.939 118.886L182.15 115.582L174.112 124.87L173.576 112.635L162.323 107.901L173.755 103.525Z"/>',
                    '<path d="M132.225 397.806L162.769 395.663L142.049 418.258L153.481 446.659L125.616 433.888L102.127 453.536L105.699 423.081L79.7096 406.826L109.718 400.753L117.22 371.013L132.225 397.806Z"/>',
                    '<path d="M320.225 267.59L342.107 289.025L311.473 288.489L297.897 315.997L288.877 286.703L258.511 282.237L283.608 264.643L278.517 234.455L302.988 252.854L330.139 238.564L320.225 267.59Z"/>',
                    '<path d="M189.027 234.634L254.492 219.63L217.249 275.449L251.723 333.055L187.062 314.925L143.031 365.475L140.263 298.402L78.5486 272.145L141.513 248.835L147.408 181.94L189.027 234.634Z"/>',
                    '<path d="M288.341 394.055L336.837 424.421L280.75 435.674L266.817 491.136L238.773 441.301L181.703 445.141L220.464 403.075L199.119 350.024L251.098 373.96L295.04 337.164L288.341 394.055Z"/>',
                    '<path d="M338.356 463.718L355.146 474.257L335.766 478.097L330.943 497.299L321.297 480.062L301.559 481.401L314.956 466.844L307.543 448.535L325.495 456.752L340.678 444.069L338.356 463.718Z"/>',
                    '<path d="M377.295 499.085L383.994 509.356L372.115 506.498L364.435 516.054L363.452 503.819L352.02 499.442L363.273 494.798L363.899 482.563L371.847 491.851L383.636 488.636L377.295 499.085Z"/>',
                    '<path d="M415.699 491.494L425.166 499.264L412.931 500.157L408.465 511.499L403.91 500.157L391.674 499.442L401.052 491.583L398.016 479.705L408.376 486.224L418.647 479.615L415.699 491.494Z"/>',
                    '<path d="M194.832 183.012L193.939 163.185L208.139 176.939L226.627 170.062L217.964 187.835L230.289 203.286L210.73 200.517L199.834 216.95L196.44 197.48L177.327 192.211L194.832 183.012Z"/>',
                    '<path d="M201.798 130.854L206.443 119.512L210.819 130.943L223.055 131.836L213.587 139.607L216.535 151.485L206.175 144.876L195.815 151.306L198.94 139.428L189.563 131.569L201.798 130.854Z"/>',
                    '<path d="M173.755 103.525L174.826 91.3784L182.418 100.935L194.296 98.1661L187.598 108.348L193.939 118.886L182.15 115.582L174.112 124.87L173.576 112.635L162.323 107.901L173.755 103.525Z"/>',
                    '<path d="M132.225 397.806L162.769 395.663L142.049 418.258L153.481 446.659L125.616 433.888L102.127 453.536L105.699 423.081L79.7096 406.826L109.718 400.753L117.22 371.013L132.225 397.806Z"/>',
                    '<path d="M320.225 267.59L342.107 289.025L311.473 288.489L297.897 315.997L288.877 286.703L258.511 282.237L283.608 264.643L278.517 234.455L302.988 252.854L330.139 238.564L320.225 267.59Z"/>',
                '</g>'
            ))
        );

        svgShapes[ThemeLayer.FG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M321.055 143.427L344.506 131.785L320.889 120.06L329.953 100.351L311.741 108.75C309.746 84.634 304.673 67.5864 298.769 67.5864C292.864 67.5864 287.792 84.634 285.796 108.833L267.584 100.434L276.648 120.143L253.031 131.785L276.482 143.427L267.584 162.804L285.63 154.488C287.542 179.518 292.698 197.481 298.769 197.481C304.839 197.481 309.995 179.602 311.908 154.488L329.953 162.804L321.055 143.427Z"/>',
                    '<path d="M175.277 202.304L176.941 176.192L154.987 190.745L142.43 173.115L140.6 193.073C118.729 182.762 101.349 178.604 98.4385 183.76C95.4448 188.915 107.752 201.805 127.627 215.609L111.328 227.169L132.866 229.164L131.203 255.443L152.991 240.973L165.298 258.353L167.128 238.561C189.747 249.372 207.876 253.946 210.87 248.707C213.863 243.468 200.974 230.079 180.267 215.859L196.483 204.383L175.277 202.304Z"/>',
                    '<path d="M153.323 358.061L131.536 343.591L133.199 369.87L111.661 371.865L127.96 383.424C108.085 397.229 95.7774 410.202 98.7712 415.274C101.765 420.43 119.062 416.189 140.933 405.961L142.762 425.919L155.319 408.206L177.273 422.759L175.61 396.647L196.816 394.651L180.683 383.175C201.389 368.955 214.362 355.566 211.285 350.327C208.208 345.088 190.163 349.579 167.544 360.473L165.714 340.681L153.323 358.061Z"/>',
                    '<path d="M277.23 454.858L253.78 466.5L277.397 478.226L268.332 497.934L286.544 489.535C288.623 513.651 293.613 530.782 299.517 530.782C305.421 530.782 310.494 513.735 312.49 489.535L330.702 497.934L321.637 478.226L345.255 466.5L321.804 454.858L330.702 435.482L312.656 443.798C310.744 418.767 305.588 400.805 299.517 400.805C293.446 400.805 288.291 418.684 286.378 443.798L268.332 435.482L277.23 454.858Z"/>',
                    '<path d="M423.008 395.981L421.345 422.093L443.299 407.541L455.856 425.253L457.686 405.295C479.556 415.607 496.937 419.765 499.847 414.609C502.841 409.453 490.533 396.564 470.658 382.759L486.957 371.2L465.419 369.204L467.082 342.926L445.295 357.396L432.987 340.015L431.158 359.807C408.539 348.997 390.41 344.423 387.416 349.662C384.422 354.901 397.312 368.289 418.019 382.51L401.803 393.986L423.008 395.981Z"/>',
                    '<path d="M444.962 240.308L466.75 254.777L465.087 228.499L486.625 226.503L470.326 214.944C490.201 201.14 502.508 188.167 499.515 183.094C496.521 177.938 479.224 182.18 457.353 192.408L455.523 172.45L442.966 190.163L421.012 175.527L422.676 201.639L401.47 203.635L417.686 215.111C396.979 229.331 384.007 242.719 387.084 247.958C390.16 253.197 408.206 248.707 430.825 237.813L432.655 257.605L444.962 240.308Z"/>',
                '</g>'
            ))
        );

        svgShapes[ThemeLayer.FG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M111.2 130.4L122.5 148.5L126.5 132.4L134.6 152.5L114 177.2L146.2 174.9L163.2 202.2L170.3 174L202.5 214.6C206.3 210.3 210.3 206.2 214.6 202.5L174 170.3L202.1 163.2L174.8 146.2L177.1 114L152.4 134.6L132.3 126.5L148.4 122.5L130.3 111.2L131.8 89.9002L115.5 103.6L95.7 95.6002L103.7 115.4L90 131.9L111.2 130.4Z"/>',
                    '<path d="M134.2 327.6L119.3 302.7L170.7 308.6C170.5 305.7 170.4 302.9 170.4 299.9C170.4 297 170.5 294.1 170.7 291.2L119.3 297.1L134.2 272.2L102.9 279.5L81.7 255.3L78.9 287.4L58.9 295.9L67.4 281.7L46.7 286.5L32.7 270.4L30.8 291.7L11.1 300L30.7 308.3L32.6 329.6L46.6 313.5L67.3 318.3L58.8 304.1L78.8 312.6L81.6 344.7L102.8 320.4L134.2 327.6Z"/>',
                    '<path d="M255.3 81.7002L279.6 102.9L272.3 134.2L297.2 119.3L291.3 170.7C294.2 170.5 297 170.4 300 170.4C303 170.4 306 170.5 308.9 170.7L303 119.6L327.8 134.5L320.5 103.2L344.6 81.7002L312.5 78.9002L304 58.9002L318.2 67.4002L313.4 46.7002L329.5 32.7002L308.2 30.8002L299.9 11.2002L291.6 30.8002L270.3 32.7002L286.4 46.7002L281.6 67.4002L295.8 58.9002L287.3 78.9002L255.3 81.7002Z"/>',
                    '<path d="M426.2 170.5L385.7 202.7C390 206.5 394 210.5 397.7 214.7L429.9 174.2L437 202.3L454 175L486.2 177.3L465.6 152.6L473.7 132.5L477.7 148.6L489 130.5L510.3 132L496.6 115.7L504.6 95.9002L484.8 103.9L468.5 90.2002L470 111.5L451.9 122.8L468 126.8L447.9 134.9L423 114.2L425.3 146.4L398 163.4L426.2 170.5Z"/>',
                    '<path d="M488.7 469.9L477.4 451.8L473.4 467.9L465.3 447.8L485.9 423.1L453.7 425.4L436.7 398.1L429.6 426.2L397.4 385.6C393.6 389.9 389.6 393.9 385.3 397.6L426 429.9L397.8 437L425.1 454L422.8 486.2L447.5 465.6L467.6 473.7L451.5 477.7L469.6 489L468.1 510.3L484.4 496.6L504.2 504.6L496.2 484.8L509.9 468.5L488.7 469.9Z"/>',
                    '<path d="M569.3 291.8L567.4 270.5L553.4 286.6L532.7 281.8L541.2 296L521.2 287.5L518.4 255.4L497.2 279.7L465.9 272.4L480.8 297.3L429.4 291.4C429.6 294.2 429.7 297.1 429.7 300C429.7 303 429.6 306 429.4 308.9L480.6 303L465.6 328L496.9 320.7L518.1 345L520.9 312.9L540.9 304.4L532.4 318.6L553.1 313.8L567.1 329.9L569 308.6L588.6 300.3L569.3 291.8Z"/>',
                    '<path d="M344.7 518.4L320.4 497.2L327.7 465.9L302.9 480.8L308.8 429.3C305.9 429.5 303 429.6 300 429.6C297.1 429.6 294.2 429.5 291.3 429.3L297.2 480.7L272.3 465.8L279.6 497.1L255.3 518.4L287.4 521.2L295.9 541.2L281.7 532.7L286.5 553.4L270.5 567.4L291.8 569.3L300.1 588.9L308.4 569.3L329.7 567.4L313.6 553.4L318.4 532.7L304.2 541.2L312.7 521.2L344.7 518.4Z"/>',
                    '<path d="M174 429.7L214.6 397.5C210.3 393.7 206.2 389.7 202.5 385.4L170.3 426L163.2 397.8L146.2 425.1L114 422.8L134.6 447.5L126.5 467.6L122.5 451.5L111.2 469.7L90 468.2L103.7 484.5L95.7 504.3L115.5 496.3L131.8 510L130.3 488.7L148.4 477.4L132.3 473.4L152.4 465.3L177.1 485.9L174.8 453.7L202.1 436.7L174 429.7Z"/>',
                '</g>'
            ))
        );

        svgShapes[ThemeLayer.FG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M461.428 461.261C463.257 459.432 415.108 408.123 347.749 339.683C431.906 334.194 499.681 321.637 499.681 299.184C499.681 276.731 431.823 264.174 347.666 258.686C415.191 190.246 463.424 138.854 461.511 136.941C459.598 135.028 408.289 183.344 339.766 250.786C334.194 166.546 321.637 98.688 299.184 98.688C276.732 98.688 264.174 166.463 258.686 250.62C190.246 183.178 138.937 135.028 137.107 136.941C135.278 138.771 183.51 190.163 250.952 258.686C166.629 264.174 98.7712 276.731 98.7712 299.184C98.7712 321.637 166.629 334.194 250.786 339.683C183.344 408.04 135.195 459.349 137.107 461.261C138.937 463.091 190.246 414.942 258.686 347.583C264.174 431.823 276.732 499.598 299.184 499.598C321.721 499.598 334.194 431.657 339.683 347.417C408.206 414.859 459.515 463.091 461.428 461.261Z"/>',
                '</g>'
            ))
        );

        svgShapes[ThemeLayer.FG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M250.1 67.6999L270 69.2999C274.4 69.6999 275.9 75.2999 272.3 77.7999L255.9 89.0999L254.3 109C253.9 113.4 248.3 114.9 245.8 111.3L234.5 94.8999L214.6 93.2999C210.2 92.8999 208.7 87.2999 212.3 84.7999L228.7 73.4999L230.3 53.5999C230.7 49.1999 236.3 47.6999 238.8 51.2999L250.1 67.6999Z"/>',
                    '<path d="M265.4 132.8L281.6 134.1C285.2 134.4 286.4 139 283.5 141L270.1 150.2L268.8 166.4C268.5 170 263.9 171.2 261.9 168.3L252.7 154.9L236.5 153.6C232.9 153.3 231.7 148.7 234.6 146.7L248 137.5L249.3 121.3C249.6 117.7 254.2 116.5 256.2 119.4L265.4 132.8Z"/>',
                    '<path d="M140.6 123.8L158.6 115.2C162.6 113.3 166.7 117.5 164.8 121.4L156.2 139.4L164.8 157.4C166.7 161.4 162.5 165.5 158.6 163.6L140.6 155L122.6 163.6C118.6 165.5 114.5 161.3 116.4 157.4L125 139.4L116.4 121.4C114.5 117.4 118.7 113.3 122.6 115.2L140.6 123.8Z"/>',
                    '<path d="M186.4 172.5L201.1 165.5C204.3 164 207.7 167.3 206.2 170.6L199.2 185.3L206.2 200C207.7 203.2 204.4 206.6 201.1 205.1L186.4 198.1L171.7 205.1C168.5 206.6 165.1 203.3 166.6 200L173.6 185.3L166.6 170.6C165.1 167.4 168.4 164 171.7 165.5L186.4 172.5Z"/>',
                    '<path d="M73.9 227.1L85.2 210.7C87.7 207.1 93.4 208.6 93.7 213L95.3 232.9L111.7 244.2C115.3 246.7 113.8 252.4 109.4 252.7L89.5 254.3L78.2 270.7C75.7 274.3 70 272.8 69.7 268.4L68.1 248.5L51.7 237.2C48.1 234.7 49.6 229 54 228.7L73.9 227.1Z"/>',
                    '<path d="M137.9 246.4L147.1 233C149.1 230.1 153.7 231.3 154 234.9L155.3 251.1L168.7 260.3C171.6 262.3 170.4 266.9 166.8 267.2L150.6 268.5L141.4 281.9C139.4 284.8 134.8 283.6 134.5 280L133.2 263.8L119.8 254.6C116.9 252.6 118.1 248 121.7 247.7L137.9 246.4Z"/>',
                    '<path d="M67.7 349.9L69.3 330C69.7 325.6 75.3 324.1 77.8 327.7L89.1 344.1L109 345.7C113.4 346.1 114.9 351.7 111.3 354.2L94.9 365.5L93.3 385.4C92.9 389.8 87.3 391.3 84.8 387.7L73.5 371.3L53.6 369.7C49.2 369.3 47.7 363.7 51.3 361.2L67.7 349.9Z"/>',
                    '<path d="M132.8 334.6L134.1 318.4C134.4 314.8 139 313.6 141 316.5L150.2 329.9L166.4 331.2C170 331.5 171.2 336.1 168.3 338.1L154.9 347.3L153.6 363.5C153.3 367.1 148.7 368.3 146.7 365.4L137.5 352L121.3 350.7C117.7 350.4 116.5 345.8 119.4 343.8L132.8 334.6Z"/>',
                    '<path d="M123.8 459.4L115.2 441.4C113.3 437.4 117.5 433.3 121.4 435.2L139.4 443.8L157.4 435.2C161.4 433.3 165.5 437.5 163.6 441.4L155 459.4L163.6 477.4C165.5 481.4 161.3 485.5 157.4 483.6L139.4 475L121.4 483.6C117.4 485.5 113.3 481.3 115.2 477.4L123.8 459.4Z"/>',
                    '<path d="M172.5 413.6L165.5 398.9C164 395.7 167.3 392.3 170.6 393.8L185.3 400.8L200 393.8C203.2 392.3 206.6 395.6 205.1 398.9L198.1 413.6L205.1 428.3C206.6 431.5 203.3 434.9 200 433.4L185.3 426.4L170.6 433.4C167.4 434.9 164 431.6 165.5 428.3L172.5 413.6Z"/>',
                    '<path d="M227.1 526.1L210.7 514.8C207.1 512.3 208.6 506.6 213 506.3L232.9 504.7L244.2 488.3C246.7 484.7 252.4 486.2 252.7 490.6L254.3 510.5L270.7 521.8C274.3 524.3 272.8 530 268.4 530.3L248.5 531.9L237.2 548.3C234.7 551.9 229 550.4 228.7 546L227.1 526.1Z"/>',
                    '<path d="M246.4 462.1L233 452.9C230.1 450.9 231.3 446.3 234.9 446L251.1 444.7L260.3 431.3C262.3 428.4 266.9 429.6 267.2 433.2L268.5 449.4L281.9 458.6C284.8 460.6 283.6 465.2 280 465.5L263.8 466.8L254.6 480.2C252.6 483.1 248 481.9 247.7 478.3L246.4 462.1Z"/>',
                    '<path d="M349.9 532.3L330 530.7C325.6 530.3 324.1 524.7 327.7 522.2L344.1 510.9L345.7 491C346.1 486.6 351.7 485.1 354.2 488.7L365.5 505.1L385.4 506.7C389.8 507.1 391.3 512.7 387.7 515.2L371.3 526.5L369.7 546.4C369.3 550.8 363.7 552.3 361.2 548.7L349.9 532.3Z"/>',
                    '<path d="M334.6 467.2L318.4 465.9C314.8 465.6 313.6 461 316.5 459L329.9 449.8L331.2 433.6C331.5 430 336.1 428.8 338.1 431.7L347.3 445.1L363.5 446.4C367.1 446.7 368.3 451.3 365.4 453.3L352 462.5L350.7 478.7C350.4 482.3 345.8 483.5 343.8 480.6L334.6 467.2Z"/>',
                    '<path d="M459.4 476.2L441.4 484.8C437.4 486.7 433.3 482.5 435.2 478.6L443.8 460.6L435.2 442.6C433.3 438.6 437.5 434.5 441.4 436.4L459.4 445L477.4 436.4C481.4 434.5 485.5 438.7 483.6 442.6L475 460.6L483.6 478.6C485.5 482.6 481.3 486.7 477.4 484.8L459.4 476.2Z"/>',
                    '<path d="M413.6 427.5L398.9 434.5C395.7 436 392.3 432.7 393.8 429.4L400.8 414.7L393.8 400C392.3 396.8 395.6 393.4 398.9 394.9L413.6 401.9L428.3 394.9C431.5 393.4 434.9 396.7 433.4 400L426.4 414.7L433.4 429.4C434.9 432.6 431.6 436 428.3 434.5L413.6 427.5Z"/>',
                    '<path d="M526.1 372.9L514.8 389.3C512.3 392.9 506.6 391.4 506.3 387L504.7 367.1L488.3 355.8C484.7 353.3 486.2 347.6 490.6 347.3L510.5 345.7L521.8 329.3C524.3 325.7 530 327.2 530.3 331.6L531.9 351.5L548.3 362.8C551.9 365.3 550.4 371 546 371.3L526.1 372.9Z"/>',
                    '<path d="M462.1 353.6L452.9 367C450.9 369.9 446.3 368.7 446 365.1L444.7 348.9L431.3 339.7C428.4 337.7 429.6 333.1 433.2 332.8L449.4 331.5L458.6 318.1C460.6 315.2 465.2 316.4 465.5 320L466.8 336.2L480.2 345.4C483.1 347.4 481.9 352 478.3 352.3L462.1 353.6Z"/>',
                    '<path d="M532.3 250.1L530.7 270C530.3 274.4 524.7 275.9 522.2 272.3L510.9 255.9L491 254.3C486.6 253.9 485.1 248.3 488.7 245.8L505.1 234.5L506.7 214.6C507.1 210.2 512.7 208.7 515.2 212.3L526.5 228.7L546.4 230.3C550.8 230.7 552.3 236.3 548.7 238.8L532.3 250.1Z"/>',
                    '<path d="M467.2 265.4L465.9 281.6C465.6 285.2 461 286.4 459 283.5L449.8 270.1L433.6 268.8C430 268.5 428.8 263.9 431.7 261.9L445.1 252.7L446.4 236.5C446.7 232.9 451.3 231.7 453.3 234.6L462.5 248L478.7 249.3C482.3 249.6 483.5 254.2 480.6 256.2L467.2 265.4Z"/>',
                    '<path d="M476.2 140.6L484.8 158.6C486.7 162.6 482.5 166.7 478.6 164.8L460.6 156.2L442.6 164.8C438.6 166.7 434.5 162.5 436.4 158.6L445 140.6L436.4 122.6C434.5 118.6 438.7 114.5 442.6 116.4L460.6 125L478.6 116.4C482.6 114.5 486.7 118.7 484.8 122.6L476.2 140.6Z"/>',
                    '<path d="M427.5 186.4L434.5 201.1C436 204.3 432.7 207.7 429.4 206.2L414.7 199.2L400 206.2C396.8 207.7 393.4 204.4 394.9 201.1L401.9 186.4L394.9 171.7C393.4 168.5 396.7 165.1 400 166.6L414.7 173.6L429.4 166.6C432.6 165.1 436 168.4 434.5 171.7L427.5 186.4Z"/>',
                    '<path d="M372.9 73.8999L389.3 85.1999C392.9 87.6999 391.4 93.3999 387 93.6999L367.1 95.2999L355.8 111.7C353.3 115.3 347.6 113.8 347.3 109.4L345.7 89.4999L329.3 78.1999C325.7 75.6999 327.2 69.9999 331.6 69.6999L351.5 68.0999L362.8 51.6999C365.3 48.0999 371 49.5999 371.3 53.9999L372.9 73.8999Z"/>',
                    '<path d="M353.6 137.9L367 147.1C369.9 149.1 368.7 153.7 365.1 154L348.9 155.3L339.7 168.7C337.7 171.6 333.1 170.4 332.8 166.8L331.5 150.6L318.1 141.4C315.2 139.4 316.4 134.8 320 134.5L336.2 133.2L345.4 119.8C347.4 116.9 352 118.1 352.3 121.7L353.6 137.9Z"/>',
                '</g>'
            ))
        );

        svgShapes[ThemeLayer.FG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M300 242.7L446.3 128.9C462.5 118.5 481.5 137.5 471.1 153.7L357.3 300L471.1 446.3C481.5 462.5 462.5 481.5 446.3 471.1L300 357.3L153.7 471.1C137.5 481.5 118.5 462.5 128.9 446.3L242.7 300L128.9 153.7C118.5 137.5 137.5 118.5 153.7 128.9L300 242.7Z"/>',
                    '<path d="M327.4 118.9C327.4 107.1 320 97.1001 309.6 93.2001C320 89.3001 327.4 79.3001 327.4 67.5001C327.4 52.4001 315.1 40.1001 300 40.1001C284.9 40.1001 272.6 52.4001 272.6 67.5001C272.6 79.3001 280 89.3001 290.4 93.2001C280 97.1001 272.6 107.1 272.6 118.9C272.6 130.7 280 140.7 290.4 144.6C280 148.5 272.6 158.5 272.6 170.3C272.6 185.4 284.9 197.7 300 197.7C315.1 197.7 327.4 185.4 327.4 170.3C327.4 158.5 320 148.5 309.6 144.6C320 140.6 327.4 130.6 327.4 118.9ZM286.9 85.2001L291.8 70.2001L279 60.9001C278.8 60.8001 278.9 60.5001 279.1 60.5001H294.9L299.8 45.5001C299.9 45.3001 300.1 45.3001 300.2 45.5001L305.1 60.5001H320.9C321.1 60.5001 321.2 60.7001 321 60.9001L308.2 70.2001L313.1 85.2001C313.2 85.4001 313 85.5001 312.8 85.4001L300 76.1001L287.2 85.4001C287.1 85.5001 286.9 85.4001 286.9 85.2001ZM313.2 165.2L305.1 171.1L308.2 180.6C308.2 180.7 308.1 180.8 308 180.7L299.9 174.8L291.8 180.7C291.7 180.8 291.6 180.7 291.6 180.6L294.7 171.1L286.6 165.2C286.5 165.1 286.6 165 286.7 165H296.7L299.8 155.5C299.8 155.4 300 155.4 300 155.5L303.1 165H313.1C313.3 165 313.3 165.2 313.2 165.2ZM316.5 113.2L306.5 120.5L310.3 132.3C310.3 132.4 310.2 132.6 310.1 132.5L300.1 125.2L290.1 132.5C290 132.6 289.8 132.5 289.9 132.3L293.7 120.5L283.7 113.2C283.6 113.1 283.6 112.9 283.8 112.9H296L299.8 101.1C299.8 101 300 101 300.1 101.1L303.9 112.9H316.3C316.5 112.9 316.6 113.1 316.5 113.2Z"/>',
                    '<path d="M118.9 272.6C107.1 272.6 97.1 280 93.2 290.4C89.3 280 79.3 272.6 67.5 272.6C52.4 272.6 40.1 284.9 40.1 300C40.1 315.1 52.4 327.4 67.5 327.4C79.3 327.4 89.3 320 93.2 309.6C97.1 320 107.1 327.4 118.9 327.4C130.7 327.4 140.7 320 144.6 309.6C148.5 320 158.5 327.4 170.3 327.4C185.4 327.4 197.7 315.1 197.7 300C197.7 284.9 185.4 272.6 170.3 272.6C158.5 272.6 148.5 280 144.6 290.4C140.6 280 130.6 272.6 118.9 272.6ZM85.2 313.1L70.2 308.2L60.9 321C60.8 321.2 60.5 321.1 60.5 320.9V305.1L45.5 300.2C45.3 300.1 45.3 299.9 45.5 299.8L60.5 294.9V279.1C60.5 278.9 60.7 278.8 60.9 279L70.2 291.8L85.2 286.9C85.4 286.8 85.5 287 85.4 287.2L76.1 300L85.4 312.8C85.5 312.9 85.4 313.1 85.2 313.1ZM165.2 286.8L171.1 294.9L180.6 291.8C180.7 291.8 180.8 291.9 180.7 292L174.8 300.1L180.7 308.2C180.8 308.3 180.7 308.4 180.6 308.4L171.1 305.3L165.2 313.4C165.1 313.5 165 313.4 165 313.3V303.3L155.5 300.2C155.4 300.2 155.4 300 155.5 300L165 296.9V286.9C165 286.7 165.2 286.7 165.2 286.8ZM113.2 283.5L120.5 293.5L132.3 289.7C132.4 289.7 132.6 289.8 132.5 289.9L125.2 299.9L132.5 309.9C132.6 310 132.5 310.2 132.3 310.1L120.5 306.3L113.2 316.3C113.1 316.4 112.9 316.4 112.9 316.2V304L101.1 300.2C101 300.2 101 300 101.1 299.9L112.9 296.1V283.7C112.9 283.5 113.1 283.4 113.2 283.5Z"/>',
                    '<path d="M272.6 481.1C272.6 492.9 280 502.9 290.4 506.8C280 510.7 272.6 520.7 272.6 532.5C272.6 547.6 284.9 559.9 300 559.9C315.1 559.9 327.4 547.6 327.4 532.5C327.4 520.7 320 510.7 309.6 506.8C320 502.9 327.4 492.9 327.4 481.1C327.4 469.3 320 459.3 309.6 455.4C320 451.5 327.4 441.5 327.4 429.7C327.4 414.6 315.1 402.3 300 402.3C284.9 402.3 272.6 414.6 272.6 429.7C272.6 441.5 280 451.5 290.4 455.4C280 459.4 272.6 469.4 272.6 481.1ZM313.1 514.8L308.2 529.8L321 539.1C321.2 539.2 321.1 539.5 320.9 539.5H305.1L300.2 554.5C300.1 554.7 299.9 554.7 299.8 554.5L294.9 539.5H279.1C278.9 539.5 278.8 539.3 279 539.1L291.8 529.8L286.9 514.8C286.8 514.6 287 514.5 287.2 514.6L300 523.9L312.8 514.6C312.9 514.5 313.1 514.6 313.1 514.8ZM286.8 434.8L294.9 428.9L291.8 419.4C291.8 419.3 291.9 419.2 292 419.3L300.1 425.2L308.2 419.3C308.3 419.2 308.4 419.3 308.4 419.4L305.3 428.9L313.4 434.8C313.5 434.9 313.4 435 313.3 435H303.3L300.2 444.5C300.2 444.6 300 444.6 300 444.5L296.9 435H286.9C286.7 435 286.7 434.8 286.8 434.8ZM283.5 486.8L293.5 479.5L289.7 467.7C289.7 467.6 289.8 467.4 289.9 467.5L299.9 474.8L309.9 467.5C310 467.4 310.2 467.5 310.1 467.7L306.3 479.5L316.3 486.8C316.4 486.9 316.4 487.1 316.2 487.1H304L300.2 498.9C300.2 499 300 499 299.9 498.9L296.1 487.1H283.7C283.5 487.1 283.4 486.9 283.5 486.8Z"/>',
                    '<path d="M481.1 327.4C492.9 327.4 502.9 320 506.8 309.6C510.7 320 520.7 327.4 532.5 327.4C547.6 327.4 559.9 315.1 559.9 300C559.9 284.9 547.6 272.6 532.5 272.6C520.7 272.6 510.7 280 506.8 290.4C502.9 280 492.9 272.6 481.1 272.6C469.3 272.6 459.3 280 455.4 290.4C451.5 280 441.5 272.6 429.7 272.6C414.6 272.6 402.3 284.9 402.3 300C402.3 315.1 414.6 327.4 429.7 327.4C441.5 327.4 451.5 320 455.4 309.6C459.4 320 469.4 327.4 481.1 327.4ZM514.8 286.9L529.8 291.8L539.1 279C539.2 278.8 539.5 278.9 539.5 279.1V294.9L554.5 299.8C554.7 299.9 554.7 300.1 554.5 300.2L539.5 305.1V320.9C539.5 321.1 539.3 321.2 539.1 321L529.8 308.2L514.8 313.1C514.6 313.2 514.5 313 514.6 312.8L523.9 300L514.6 287.2C514.5 287.1 514.6 286.9 514.8 286.9ZM434.8 313.2L428.9 305.1L419.4 308.2C419.3 308.2 419.2 308.1 419.3 308L425.2 299.9L419.3 291.8C419.2 291.7 419.3 291.6 419.4 291.6L428.9 294.7L434.8 286.6C434.9 286.5 435 286.6 435 286.7V296.7L444.5 299.8C444.6 299.8 444.6 300 444.5 300L435 303.1V313.1C435 313.3 434.8 313.3 434.8 313.2ZM486.8 316.5L479.5 306.5L467.7 310.3C467.6 310.3 467.4 310.2 467.5 310.1L474.8 300.1L467.5 290.1C467.4 290 467.5 289.8 467.7 289.9L479.5 293.7L486.8 283.7C486.9 283.6 487.1 283.6 487.1 283.8V296L498.9 299.8C499 299.8 499 300 498.9 300.1L487.1 303.9V316.3C487.1 316.5 486.9 316.6 486.8 316.5Z"/>',
                '</g>'
            ))
        );

        svgShapes[ThemeLayer.FG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M499.911 260.114C492.775 247.031 482.529 236.602 470.636 229.284C480.608 186.836 455.541 142.924 413.185 130.482C398.822 126.274 384.276 126.091 370.645 129.293C347.683 92.2423 298.923 78.8858 260.134 100.11C247.052 107.245 236.623 117.492 229.304 129.384C186.856 119.413 142.944 144.479 130.502 186.836C126.294 201.198 126.111 215.744 129.313 229.375C92.2625 252.337 78.906 301.098 100.13 339.887C107.266 352.969 117.512 363.398 129.405 370.716C119.433 413.165 144.499 457.076 186.856 469.518C201.219 473.726 215.765 473.909 229.395 470.707C252.358 507.758 301.118 521.115 339.907 499.89C352.989 492.755 363.418 482.509 370.737 470.616C413.185 480.588 457.097 455.521 469.538 413.165C473.746 398.802 473.929 384.256 470.728 370.625C507.778 347.663 521.043 298.902 499.911 260.114ZM465.33 355.073C462.677 349.309 459.384 343.912 455.541 338.88C454.352 337.325 451.882 338.606 452.522 340.436C454.992 348.212 456.365 356.445 456.548 364.77C450.693 370.259 444.014 375.108 436.604 379.041H436.513C434.775 379.956 435.598 382.518 437.519 382.335C443.74 381.511 449.869 380.048 455.907 377.761C455.267 382.975 454.169 388.19 452.522 393.404C441.727 428.076 411.812 451.587 377.872 455.704C380.068 449.758 381.623 443.628 382.446 437.316C382.721 435.395 380.068 434.572 379.153 436.31C375.311 443.537 370.554 450.307 364.79 456.345C356.74 456.162 348.598 454.881 340.547 452.319H340.456C338.626 451.77 337.345 454.149 338.901 455.338C343.841 459.181 349.238 462.474 355.093 465.127C350.976 468.329 346.494 471.256 341.645 473.818C309.443 490.742 271.752 486.168 244.856 465.127C250.62 462.474 256.017 459.181 261.049 455.338C262.604 454.149 261.323 451.679 259.493 452.319C251.717 454.789 243.484 456.162 235.159 456.345C229.67 450.49 224.821 443.811 220.888 436.401V436.31C219.973 434.572 217.411 435.395 217.594 437.316C218.417 443.537 219.881 449.666 222.168 455.704C216.954 455.064 211.739 453.966 206.525 452.319C171.853 441.524 148.342 411.609 144.225 377.669C150.171 379.865 156.301 381.42 162.613 382.243C164.534 382.518 165.357 379.865 163.619 378.95C156.392 375.108 149.622 370.351 143.584 364.587C143.767 356.537 145.048 348.395 147.61 340.344V340.253C148.159 338.423 145.78 337.142 144.591 338.697C140.748 343.638 137.455 349.035 134.802 354.89C131.6 350.773 128.673 346.291 126.111 341.442C109.187 309.24 113.761 271.549 134.802 244.653C137.455 250.416 140.748 255.814 144.591 260.845C145.78 262.401 148.25 261.12 147.61 259.29C145.14 251.514 143.767 243.281 143.584 234.956C149.439 229.467 156.118 224.618 163.528 220.684H163.619C165.357 219.77 164.534 217.208 162.613 217.391C156.392 218.214 150.263 219.678 144.225 221.965C144.865 216.751 145.963 211.536 147.61 206.322C158.405 171.649 188.32 148.138 222.26 144.022C220.064 149.968 218.509 156.097 217.686 162.41C217.411 164.331 220.064 165.154 220.979 163.416C224.821 156.189 229.578 149.419 235.342 143.381C243.392 143.564 251.534 144.845 259.585 147.407H259.676C261.506 147.955 262.787 145.577 261.232 144.388C256.291 140.545 250.894 137.252 245.039 134.599C249.156 131.397 253.638 128.47 258.487 125.908C290.689 108.984 328.38 113.558 355.276 134.599C349.513 137.252 344.115 140.545 339.084 144.388C337.528 145.577 338.809 148.047 340.639 147.407C348.415 144.936 356.648 143.564 364.973 143.381C370.462 149.236 375.311 155.914 379.245 163.325V163.416C380.159 165.154 382.721 164.331 382.538 162.41C381.715 156.189 380.251 150.06 377.964 144.022C383.178 144.662 388.393 145.76 393.607 147.407C428.279 158.202 451.791 188.116 455.907 222.057C449.961 219.861 443.832 218.306 437.519 217.482C435.598 217.208 434.775 219.861 436.513 220.776C443.74 224.618 450.51 229.375 456.548 235.139C456.365 243.189 455.084 251.331 452.522 259.382V259.473C451.974 261.303 454.352 262.584 455.541 261.028C459.384 256.088 462.677 250.691 465.33 244.836C468.532 248.953 471.459 253.435 474.021 258.284C490.945 290.394 486.371 328.177 465.33 355.073Z"/>',
                    '<path d="M211.3 67.7001L227.5 62.4001L219.2 77.2001L229.2 91.0001L212.5 87.7001L202.5 101.5L200.5 84.5001L184.3 79.3001L199.8 72.2001V55.1001L211.3 67.7001Z"/>',
                    '<path d="M73 198.4L80.8 183.2L85.4 199.6L102.2 202.3L88 211.7L90.7 228.6L77.3 218L62.1 225.7L68 209.8L56 197.7L73 198.4Z"/>',
                    '<path d="M67.7 388.7L62.4 372.5L77.2 380.8L91 370.8L87.7 387.5L101.5 397.5L84.5 399.5L79.3 415.7L72.2 400.2H55.1L67.7 388.7Z"/>',
                    '<path d="M198.4 527L183.2 519.2L199.6 514.6L202.3 497.8L211.7 512L228.6 509.3L218 522.7L225.7 537.9L209.8 532L197.7 544L198.4 527Z"/>',
                    '<path d="M388.7 532.3L372.5 537.6L380.8 522.8L370.8 509L387.5 512.3L397.5 498.5L399.5 515.5L415.7 520.7L400.2 527.8V544.9L388.7 532.3Z"/>',
                    '<path d="M527 401.6L519.2 416.8L514.6 400.4L497.8 397.7L512 388.3L509.3 371.4L522.7 382L537.9 374.3L532 390.2L544 402.3L527 401.6Z"/>',
                    '<path d="M532.3 211.3L537.6 227.5L522.8 219.2L509 229.2L512.3 212.5L498.5 202.5L515.5 200.5L520.7 184.3L527.8 199.8H544.9L532.3 211.3Z"/>',
                    '<path d="M401.6 73.0001L416.8 80.8001L400.4 85.4001L397.7 102.2L388.3 88.0001L371.4 90.7001L382 77.3001L374.3 62.1001L390.2 68.0001L402.3 56.0001L401.6 73.0001Z"/>',
                '</g>'
            ))
        );

        svgShapes[ThemeLayer.FG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M434.9 184.2L413.1 188.9L408.9 213.4L404.8 188.9L383 184.2L404.8 179.5L408.9 155L413.1 179.5L434.9 184.2Z"/>',
                    '<path d="M437.9 147.7L400.3 134.6L374.4 164.7L387.5 127.2L357.4 101.2L394.9 114.3L420.9 84.2002L407.8 121.8L437.9 147.7Z"/>',
                    '<path d="M311.2 543.9L292.3 519.1L262.9 529.3L280.7 503.7L261.8 478.9L291.7 487.9L309.5 462.3L310.1 493.5L340 502.5L310.5 512.7L311.2 543.9Z"/>',
                    '<path d="M170.9 404L170.5 384.7L152.1 379.1L170.3 372.8L169.9 353.5L181.5 368.9L199.7 362.6L188.7 378.4L200.4 393.7L181.9 388.2L170.9 404Z"/>',
                    '<path d="M104 350.5L108 380.8L131.9 388L107.6 393.6L101.5 423.6L97.4001 393.3L73.6001 386.1L97.9001 380.5L104 350.5Z"/>',
                    '<path d="M283.1 51.5L300.5 79.3L324.8 57.2L313.9 88.2L346.3 93.4L315.3 104.2L331.4 132.8L303.7 115.3L291.3 145.7L287.7 113.1L256.2 122.5L279.5 99.3L252.6 80.5L285.2 84.2L283.1 51.5Z"/>',
                    '<path d="M189.4 408.2L197.3 447.8L234.9 433.1L208.8 463.9L243.8 484.1L203.4 482.9L209.4 522.8L185.2 490.6L157.7 520.2L167.8 481.1L127.6 478.1L164.4 461.6L141.7 428.3L177.5 446.8L189.4 408.2Z"/>',
                    '<path d="M500.6 168.7L487.3 193.6L514.2 202.3L486.4 207.5L496.5 233.9L475.1 215.4L460.7 239.7L461.8 211.5L433.8 215.4L456.6 198.7L436.1 179.2L463.4 186.6L465.8 158.4L477 184.4L500.6 168.7Z"/>',
                    '<path d="M229.1 149L201.7 132L177 152.9L184.7 121.6L157.2 104.6L189.4 102.2L197.1 70.7998L209.3 100.7L241.5 98.2998L216.9 119.2L229.1 149Z"/>',
                    '<path d="M102.7 474.4C110.708 474.4 117.2 467.908 117.2 459.9C117.2 451.892 110.708 445.4 102.7 445.4C94.6918 445.4 88.2 451.892 88.2 459.9C88.2 467.908 94.6918 474.4 102.7 474.4Z"/>',
                    '<path d="M258.9 202.3C274.53 202.3 287.2 189.63 287.2 174C287.2 158.371 274.53 145.7 258.9 145.7C243.27 145.7 230.6 158.371 230.6 174C230.6 189.63 243.27 202.3 258.9 202.3Z"/>',
                    '<path d="M381.3 89.0001C391.352 89.0001 399.5 80.8517 399.5 70.8001C399.5 60.7485 391.352 52.6001 381.3 52.6001C371.248 52.6001 363.1 60.7485 363.1 70.8001C363.1 80.8517 371.248 89.0001 381.3 89.0001Z"/>',
                    '<path d="M269.1 464.3C282.355 464.3 293.1 453.555 293.1 440.3C293.1 427.045 282.355 416.3 269.1 416.3C255.845 416.3 245.1 427.045 245.1 440.3C245.1 453.555 255.845 464.3 269.1 464.3Z"/>',
                    '<path d="M384.7 514.8C396.685 514.8 406.4 505.084 406.4 493.1C406.4 481.115 396.685 471.4 384.7 471.4C372.715 471.4 363 481.115 363 493.1C363 505.084 372.715 514.8 384.7 514.8Z"/>',
                '</g>'
            ))
        );

        svgShapes[ThemeLayer.FG].push(
            string(abi.encodePacked(
                '<g stroke="black" stroke-width="1" stroke-miterlimit="10">',
                    '<path d="M430.578 66.9826L409.281 64.7661L411.208 43.4689L396.271 58.695L380.756 43.9507L383.358 65.1516L362.157 68.0426L375.841 76.4266C345.775 80.7632 294.411 99.8439 300.578 179.444C300.578 179.444 310.022 116.997 378.154 83.1723L369.577 97.6275L389.718 90.3999L397.235 110.444L404.077 90.2072L424.411 96.7602L412.847 78.7394L430.578 66.9826Z"/>',
                    '<path d="M227.628 42.891L211.053 56.3825L197.368 40L197.561 61.3936L176.168 61.8755L193.032 75.0778L180.119 92.1349L195.73 88.4729C177.613 112.854 154.678 162.676 215.293 214.522C215.293 214.522 177.806 163.64 201.994 91.6531L206.138 107.939L215.197 88.5693L234.663 97.3388L225.219 78.1616L244.3 68.4285L223.291 63.8992L227.628 42.891Z"/>',
                    '<path d="M66.983 169.422L64.7666 190.719L43.4693 188.792L58.6954 203.729L43.9512 219.244L65.1521 216.642L68.0431 237.843L76.4271 224.158C80.7636 254.225 99.8444 305.589 179.444 299.422C179.444 299.422 116.998 289.978 83.1728 221.846L97.628 230.422L90.4004 210.282L110.445 202.765L90.2077 195.923L96.7607 175.589L78.7399 187.153L66.983 169.422Z"/>',
                    '<path d="M42.891 372.372L56.3825 388.947L40 402.631L61.3936 402.439L61.8755 423.832L75.0778 406.968L92.1349 419.881L88.4729 404.27C112.854 422.387 162.676 445.322 214.522 384.707C214.522 384.707 163.64 422.194 91.6531 398.006L107.939 393.862L88.4729 384.803L97.2424 365.337L78.0652 374.781L68.3321 355.7L63.8992 376.708L42.891 372.372Z"/>',
                    '<path d="M169.422 533.017L190.719 535.233L188.792 556.531L203.729 541.305L219.244 556.049L216.642 534.848L237.843 531.957L224.159 523.573C254.225 519.236 305.589 500.156 299.422 420.556C299.422 420.556 289.978 483.002 221.846 516.827L230.423 502.372L210.282 509.6L202.765 489.555L195.923 509.792L175.589 503.239L187.153 521.26L169.422 533.017Z"/>',
                    '<path d="M372.372 557.109L388.947 543.617L402.632 560L402.439 538.606L423.833 538.125L406.968 524.922L419.882 507.865L404.27 511.527C422.387 487.146 445.323 437.324 384.707 385.478C384.707 385.478 422.194 436.36 398.006 508.347L393.862 492.061L384.804 511.431L365.337 502.661L374.781 521.838L355.701 531.572L376.612 536.101L372.372 557.109Z"/>',
                    '<path d="M533.017 430.578L535.234 409.281L556.531 411.208L541.305 396.271L556.049 380.756L534.848 383.358L531.957 362.157L523.573 375.841C519.237 345.775 500.156 294.411 420.556 300.578C420.556 300.578 483.002 310.022 516.827 378.154L502.372 369.577L509.6 389.718L489.555 397.235L509.793 404.077L503.24 424.411L521.26 412.847L533.017 430.578Z"/>',
                    '<path d="M557.109 227.627L543.617 211.052L560 197.368L538.606 197.561L538.125 176.167L524.922 193.031L507.865 180.118L511.527 195.73C487.146 177.613 437.324 154.677 385.478 215.292C385.478 215.292 436.36 177.805 508.347 201.994L492.061 206.137L511.431 215.196L502.661 234.662L521.838 225.218L531.572 244.299L536.101 223.387L557.109 227.627Z"/>',
                '</g>'
            ))
        );
    }

    function setupColorThemes() internal {

        ThemeSpecs memory satXDark = ThemeSpecs({
            hueStart: 0,
            hueEnd: 360,
            saturationStart: 80,
            saturationEnd: 100,
            lightnessStart: 18,
            lightnessEnd: 100
        });

        //SaturatedExcludeDarks

        colourThemes[ThemeName.SaturatedExcludeDarks][ThemeLayer.BG] = satXDark;
        colourThemes[ThemeName.SaturatedExcludeDarks][ThemeLayer.Core] = satXDark;
        colourThemes[ThemeName.SaturatedExcludeDarks][ThemeLayer.FG] = satXDark;

        //PastelHighlighterMarker

        colourThemes[ThemeName.PastelHighlighterMarker][ThemeLayer.BG] = satXDark;
        colourThemes[ThemeName.PastelHighlighterMarker][ThemeLayer.BG].saturationStart = 80;
        colourThemes[ThemeName.PastelHighlighterMarker][ThemeLayer.BG].saturationEnd = 100;
        colourThemes[ThemeName.PastelHighlighterMarker][ThemeLayer.BG].lightnessStart = 85;
        colourThemes[ThemeName.PastelHighlighterMarker][ThemeLayer.BG].lightnessEnd = 95;

        colourThemes[ThemeName.PastelHighlighterMarker][ThemeLayer.Core] = satXDark;
        colourThemes[ThemeName.PastelHighlighterMarker][ThemeLayer.Core].saturationStart = 100;
        colourThemes[ThemeName.PastelHighlighterMarker][ThemeLayer.Core].saturationEnd = 100;
        colourThemes[ThemeName.PastelHighlighterMarker][ThemeLayer.Core].lightnessStart = 55;
        colourThemes[ThemeName.PastelHighlighterMarker][ThemeLayer.Core].lightnessEnd = 60;

        colourThemes[ThemeName.PastelHighlighterMarker][ThemeLayer.FG] = satXDark;
        colourThemes[ThemeName.PastelHighlighterMarker][ThemeLayer.FG].saturationStart = 70;
        colourThemes[ThemeName.PastelHighlighterMarker][ThemeLayer.FG].saturationEnd = 90;
        colourThemes[ThemeName.PastelHighlighterMarker][ThemeLayer.FG].lightnessStart = 67;
        colourThemes[ThemeName.PastelHighlighterMarker][ThemeLayer.FG].lightnessEnd = 67;

        //MarkerPastelHighlighter

        colourThemes[ThemeName.MarkerPastelHighlighter][ThemeLayer.BG] = satXDark;
        colourThemes[ThemeName.MarkerPastelHighlighter][ThemeLayer.BG].saturationStart = 100;
        colourThemes[ThemeName.MarkerPastelHighlighter][ThemeLayer.BG].saturationEnd = 100;
        colourThemes[ThemeName.MarkerPastelHighlighter][ThemeLayer.BG].lightnessStart = 60;
        colourThemes[ThemeName.MarkerPastelHighlighter][ThemeLayer.BG].lightnessEnd = 60;

        colourThemes[ThemeName.MarkerPastelHighlighter][ThemeLayer.Core] = satXDark;
        colourThemes[ThemeName.MarkerPastelHighlighter][ThemeLayer.Core].saturationStart = 100;
        colourThemes[ThemeName.MarkerPastelHighlighter][ThemeLayer.Core].saturationEnd = 100;
        colourThemes[ThemeName.MarkerPastelHighlighter][ThemeLayer.Core].lightnessStart = 90;
        colourThemes[ThemeName.MarkerPastelHighlighter][ThemeLayer.Core].lightnessEnd = 95;

        colourThemes[ThemeName.MarkerPastelHighlighter][ThemeLayer.FG] = satXDark;
        colourThemes[ThemeName.MarkerPastelHighlighter][ThemeLayer.FG].saturationStart = 100;
        colourThemes[ThemeName.MarkerPastelHighlighter][ThemeLayer.FG].saturationEnd = 100;
        colourThemes[ThemeName.MarkerPastelHighlighter][ThemeLayer.FG].lightnessStart = 55;
        colourThemes[ThemeName.MarkerPastelHighlighter][ThemeLayer.FG].lightnessEnd = 60;

        //ShadowHighlighterMarker

        colourThemes[ThemeName.ShadowHighlighterMarker][ThemeLayer.BG] = satXDark;
        colourThemes[ThemeName.ShadowHighlighterMarker][ThemeLayer.BG].saturationStart = 80;
        colourThemes[ThemeName.ShadowHighlighterMarker][ThemeLayer.BG].saturationEnd = 100;
        colourThemes[ThemeName.ShadowHighlighterMarker][ThemeLayer.BG].lightnessStart = 18;
        colourThemes[ThemeName.ShadowHighlighterMarker][ThemeLayer.BG].lightnessEnd = 25;

        colourThemes[ThemeName.ShadowHighlighterMarker][ThemeLayer.Core] = satXDark;
        colourThemes[ThemeName.ShadowHighlighterMarker][ThemeLayer.Core].saturationStart = 100;
        colourThemes[ThemeName.ShadowHighlighterMarker][ThemeLayer.Core].saturationEnd = 100;
        colourThemes[ThemeName.ShadowHighlighterMarker][ThemeLayer.Core].lightnessStart = 55;
        colourThemes[ThemeName.ShadowHighlighterMarker][ThemeLayer.Core].lightnessEnd = 60;

        colourThemes[ThemeName.ShadowHighlighterMarker][ThemeLayer.FG] = satXDark;
        colourThemes[ThemeName.ShadowHighlighterMarker][ThemeLayer.FG].saturationStart = 70;
        colourThemes[ThemeName.ShadowHighlighterMarker][ThemeLayer.FG].saturationEnd = 90;
        colourThemes[ThemeName.ShadowHighlighterMarker][ThemeLayer.FG].lightnessStart = 67;
        colourThemes[ThemeName.ShadowHighlighterMarker][ThemeLayer.FG].lightnessEnd = 67;

        //ShadowHighlighterMarker

        colourThemes[ThemeName.Berlin][ThemeLayer.BG] = satXDark;
        colourThemes[ThemeName.Berlin][ThemeLayer.BG].saturationStart = 100;
        colourThemes[ThemeName.Berlin][ThemeLayer.BG].saturationEnd = 100;
        colourThemes[ThemeName.Berlin][ThemeLayer.BG].lightnessStart = 18;
        colourThemes[ThemeName.Berlin][ThemeLayer.BG].lightnessEnd = 18;

        colourThemes[ThemeName.Berlin][ThemeLayer.Core] = satXDark;
        colourThemes[ThemeName.Berlin][ThemeLayer.Core].saturationStart = 100;
        colourThemes[ThemeName.Berlin][ThemeLayer.Core].saturationEnd = 100;
        colourThemes[ThemeName.Berlin][ThemeLayer.Core].lightnessStart = 45;
        colourThemes[ThemeName.Berlin][ThemeLayer.Core].lightnessEnd = 45;

        colourThemes[ThemeName.Berlin][ThemeLayer.FG] = satXDark;
        colourThemes[ThemeName.Berlin][ThemeLayer.FG].saturationStart = 100;
        colourThemes[ThemeName.Berlin][ThemeLayer.FG].saturationEnd = 100;
        colourThemes[ThemeName.Berlin][ThemeLayer.FG].lightnessStart = 30;
        colourThemes[ThemeName.Berlin][ThemeLayer.FG].lightnessEnd = 30;
    }

    /// @dev generates the problemMetadata
    /// @param date the date
    function getMetadata(uint256 date) public view returns (string memory) {
        return
            string(
                abi.encodePacked(
                    'data:application/json;base64,',
                    Base64.encode(
                        abi.encodePacked(
                            '{"name":"',
                            getName(date),
                            '",',
                            '"description": "Anybody Problem (https://anybody.trifle.life)",',
                            '"image": "',
                            getSVG(date),
                            '",',
                            '"image_url": "',
                            getSVG(date),
                            '",',
                            '"home_url": "https://anybody.trifle.life",',
                            '"external_url": "https://anybody.trifle.life",',
                            // '"animation_url": "', getHTML(tokenId), '",',
                            '"attributes": ',
                            getAttributes(date),
                            '}'
                        )
                    )
                )
            );
    }

    function getName(uint256 date) public pure returns (string memory) {
        (uint year, uint month, uint day) = BokkyPooBahsDateTimeLibrary
            .timestampToDate(date);
        return
            string(
                abi.encodePacked(
                    StringsExtended.toString(year),
                    '-',
                    StringsExtended.toString(month),
                    '-',
                    StringsExtended.toString(day)
                )
            );
    }

    function getHTML(uint256 date) public view returns (string memory) {
        return
            string(
                abi.encodePacked(
                    'data:text/html;base64,',
                    Base64.encode(
                        abi.encodePacked(
                            "<html><body><img src='",
                            getSVG(date),
                            "'></body></html>"
                        )
                    )
                )
            );
    }

    /// @dev function to generate a SVG String
    function getSVG(uint256 date) public view returns (string memory) {
        return
            string(
                abi.encodePacked(
                    'data:image/svg+xml;base64,',
                    Base64.encode(
                        abi.encodePacked(
                            '<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg"  height="100%" width="100%" viewBox="0 0 1000 1000" style="background-color:grey;"><style></style>',
                            getPath(date),
                            '<text x="50" y="550" class="name">',
                            getName(date),
                            '</text></svg>'
                        )
                    )
                )
            );
    }

    function getPath(uint256 date) public view returns (string memory) {
        string memory path = '';
        uint256 scalingFactor = AnybodyProblem(anybodyProblem).scalingFactor();
        uint256 level = AnybodyProblem(anybodyProblem).LEVELS();
        (
            AnybodyProblem.Body[6] memory bodies,
            uint256 bodyCount
        ) = AnybodyProblem(anybodyProblem).generateLevelData(date, level);
        for (uint256 i = 0; i < 1; i++) { //bodyCount
            AnybodyProblem.Body memory body = bodies[i];
            uint256 scaledRadius = body.radius *
                4 +
                radiusMultiplyer *
                scalingFactor;
            uint256 radiusRounded = (scaledRadius / scalingFactor);
            string memory radius = StringsExtended.toString(radiusRounded);
            string memory radiusDecimalsString = StringsExtended.toString(
                scaledRadius - (radiusRounded * scalingFactor)
            );

            uint256 pxOffset = body.px - 300;
            uint256 pxScaled = pxOffset / scalingFactor;
            uint256 pxDecimals = pxOffset - (pxScaled * scalingFactor);
            string memory pxString = string(
                abi.encodePacked(
                    StringsExtended.toString(pxScaled),
                    '.',
                    StringsExtended.toString(pxDecimals)
                )
            );

            uint256 pyOffset = body.py - 300;
            uint256 pyScaled = pyOffset / scalingFactor;
            uint256 pyDecimals = pyOffset - (pyScaled * scalingFactor);
            string memory pyString = string(
                abi.encodePacked(
                    StringsExtended.toString(pyScaled),
                    '.',
                    StringsExtended.toString(pyDecimals)
                )
            );
            string memory bodyIDString = StringsExtended.toString(
                body.bodyIndex
            );
            string memory transformOrigin = string(
                abi.encodePacked(
                    'transform-origin: 300px 300px;'
                )
            );

            path = string(
                abi.encodePacked(
                    path,
                    getRotationAnimation(bodyIDString, '300px 300px', '0px, 40px', '4', '0' ),
                    '<g id="id-', bodyIDString,'">',
                        getHeroBodyPath(date),
                    '</g>'
                )
            );
        }

        return path;
    }

    function getHeroBodyLayerColor(
        bytes32 seed,
        ThemeName theme,
        ThemeLayer layer
    ) public view returns (uint256[3] memory, bytes32) {
        
        bytes32 rand = keccak256(abi.encodePacked(seed));
        uint256 hue = randomRange(
            colourThemes[theme][layer].hueStart, 
            colourThemes[theme][layer].hueEnd, 
            rand
        );

        rand = keccak256(abi.encodePacked(rand));
        uint256 sat = randomRange(
            colourThemes[theme][layer].saturationStart, 
            colourThemes[theme][layer].saturationEnd, 
            rand
        );

        rand = keccak256(abi.encodePacked(rand));
        uint256 light = randomRange(
            colourThemes[theme][layer].lightnessStart, 
            colourThemes[theme][layer].lightnessEnd, 
            rand
        );

        return ([hue, sat, light], rand);
    }

    function getHeroBodyPath(uint256 date) public view returns (string memory) {

        //BACKGROUND SHAPE
        bytes32 rand = keccak256(abi.encodePacked(date));
        uint256 pathIdxBG = randomRange(0, svgShapeCategorySizes[ThemeLayer.BG] - 1, rand);
        string memory pathBG = svgShapes[ThemeLayer.BG][pathIdxBG];

        //FOREGROUND SHAPE
        rand = keccak256(abi.encodePacked(rand));
        uint256 pathIdxFG = randomRange(0, svgShapeCategorySizes[ThemeLayer.FG] - 1, rand);
        string memory pathFG = svgShapes[ThemeLayer.FG][pathIdxFG];

        //CORE SHAPE
        rand = keccak256(abi.encodePacked(rand));
        uint256 pathIdxCore = randomRange(0, svgShapeCategorySizes[ThemeLayer.Core] - 1, rand);
        string memory pathCore = svgShapes[ThemeLayer.Core][pathIdxCore];

        //DAILY COLOR THEME
        rand = keccak256(abi.encodePacked(rand));
        uint8 themegroupsAmount = 5;
        ThemeName currentDayTheme = ThemeName(randomRange(0, themegroupsAmount - 1, rand));

        //BACKGROUND COLOR
        uint256[3] memory colorsBGValues; 
        (colorsBGValues, rand) = getHeroBodyLayerColor(rand, currentDayTheme, ThemeLayer.BG);
        string memory colorsBG = string(
            abi.encodePacked(
                'hsl(', 
                StringsExtended.toString(colorsBGValues[0]), ',', 
                StringsExtended.toString(colorsBGValues[1]), '%,', 
                StringsExtended.toString(colorsBGValues[2]), '%)'
            )
        );

        //CORE COLOR
        uint256[3] memory colorsCoreValues; 
        (colorsCoreValues, rand) = getHeroBodyLayerColor(rand, currentDayTheme, ThemeLayer.Core);
        string memory colorsCore= string(
            abi.encodePacked(
                'hsl(', 
                StringsExtended.toString(colorsCoreValues[0]), ',', 
                StringsExtended.toString(colorsCoreValues[1]), '%,', 
                StringsExtended.toString(colorsCoreValues[2]), '%)'
            )
        ); 

        //FOREGROUND COLOR
        uint256[3] memory colorsFGValues; 
        (colorsFGValues, rand) = getHeroBodyLayerColor(rand, currentDayTheme, ThemeLayer.FG);
        string memory colorsFG = string(
            abi.encodePacked(
                'hsl(', 
                StringsExtended.toString(colorsFGValues[0]), ',', 
                StringsExtended.toString(colorsFGValues[1]), '%,', 
                StringsExtended.toString(colorsFGValues[2]), '%)'
            )
        ); 

        string memory path = string(
            abi.encodePacked(
                getRotationAnimation('BG', '300px 300px', '0px, 0px', '4', '-3' ),
                '<path id="id-BG" d="', pathBG, '" fill="', colorsBG, '" />',
                getRotationAnimation('Core', '113px 113px', '187px, 187px', '2', '-6' ),
                '<path id="id-Core" d="', pathCore, '" fill="', colorsCore, '" />',
                getRotationAnimation('FG', '300px 300px', '0px,0px', '6', '-1.5' ),
                '<g id="id-FG" fill="', colorsFG ,'" >',
                    pathFG,
                '</g>'
            )
        );

        return path; 
    }

    function getRotationAnimation(
        string memory bodyId, 
        string memory transformOrigin, 
        string memory translation,
        string memory duration,
        string memory delay
    ) public view returns (string memory) {
        string memory path = string(
            abi.encodePacked(
                '<style> @keyframes move', bodyId, ' ',
                    '{ ',
                        '0% { ',
                            'transform-origin: ', transformOrigin ,';',
                            'transform: translate(', translation, ') rotate(0deg); }', 
                        '100% {',
                            'transform-origin: ', transformOrigin ,';',
                            'transform: translate(', translation, ') rotate(360deg); }',
                    '} ',
                    '#id-', bodyId, ' ',
                    '{ ',
                        'animation: move', bodyId, ' ',
                        duration, 's infinite linear; animation-delay: ', delay, 's;',
                    '}',
                '</style>'
            )
        );
        return path;
    }

    // function seedToColor(bytes32 seed) public pure returns (string memory) {
    //     uint256 blocker = 0xffff;
    //     uint256 color = (uint256(seed) & blocker) % 360;
    //     uint256 saturation = ((uint256(seed) >> 16) & blocker) % 100;
    //     uint256 lightness = (((uint256(seed) >> 32) & blocker) % 40) + 40;
    //     string memory result = string(
    //         abi.encodePacked(
    //             'hsl(',
    //             StringsExtended.toString(color),
    //             ',',
    //             StringsExtended.toString(saturation),
    //             '%,',
    //             StringsExtended.toString(lightness),
    //             '%)'
    //         )
    //     );
    //     return result;
    // }

    // function seedToColor(bytes32 seed) public view returns (string memory) {
    //     string memory result = StringsExtended.toHexString(
    //         uint256(seed) & 0xffffff,
    //         3
    //     );
    //     return result;
    // }

    /// @dev generates the attributes as JSON String
    function getAttributes(uint256 date) internal view returns (string memory) {
        (uint year, uint month, uint day) = BokkyPooBahsDateTimeLibrary
            .timestampToDate(date);
        uint256 fastestRunId = AnybodyProblem(anybodyProblem).fastestByDay(
            date,
            0
        );
        uint256 secondFastestRunId = AnybodyProblem(anybodyProblem)
            .fastestByDay(date, 1);
        uint256 thirdFastestRunId = AnybodyProblem(anybodyProblem).fastestByDay(
            date,
            2
        );
        (address fastestAddress, , uint256 fastestTime, , ) = AnybodyProblem(
            anybodyProblem
        ).runs(fastestRunId);
        (
            address secondFastestAddress,
            ,
            uint256 secondFastestTime,
            ,

        ) = AnybodyProblem(anybodyProblem).runs(secondFastestRunId);
        (
            address thirdFastestAddress,
            ,
            uint256 thirdFastestTime,
            ,

        ) = AnybodyProblem(anybodyProblem).runs(thirdFastestRunId);

        return
            string(
                abi.encodePacked(
                    '[',
                    '{"trait_type":"Day","value":"',
                    StringsExtended.toString(date),
                    '"}, {"trait_type":"Year-Month","value":"',
                    StringsExtended.toString(year),
                    '-',
                    Math.log10(month) + 1 == 1 ? '0' : '',
                    StringsExtended.toString(month),
                    '"}, {"trait_type":"1st Place","value":"',
                    StringsExtended.toHexString(fastestAddress),
                    '"}, {"trait_type":"1st Place Time","value":"',
                    StringsExtended.toString(fastestTime),
                    '"}, {"trait_type":"2nd Place","value":"',
                    StringsExtended.toHexString(secondFastestAddress),
                    '"}, {"trait_type":"2nd Place Time","value":"',
                    StringsExtended.toString(secondFastestTime),
                    '"}, {"trait_type":"3rd Place","value":"',
                    StringsExtended.toHexString(thirdFastestAddress),
                    '"}, {"trait_type":"3rd Place Time","value":"',
                    StringsExtended.toString(thirdFastestTime),
                    '"}]'
                )
            );
    }

    function updateAnybodyProblemAddress(
        address payable anybodyProblem_
    ) public onlyOwner {
        anybodyProblem = anybodyProblem_;
    }

    function updateSpeedrunsAddress(
        address payable speedruns_
    ) public onlyOwner {
        speedruns = speedruns_;
    }

    // function getHeroBodyLayerPath(
    //     uint256 seed,
    //     ThemeLayer layer
    // ) public view returns (string memory) {
    //     uint256 options = svgSizes[layer];
    //     uint256 rand = uint256(keccak256(abi.encodePacked(seed)));
    //     randomRange(0, options - 1, rand);
    //     return svgPaths[layer][pathIdx];
    // }

    function getBaddieBodyColor(
        uint256 day,
        uint256 bodyIndex
    ) internal pure returns (uint256[3] memory hsl) {
        bytes32 rand = keccak256(abi.encodePacked(day, bodyIndex));
        uint256 hue = randomRange(0, 359, rand);
        
        rand = keccak256(abi.encodePacked(rand));
        uint256 saturation = randomRange(90, 100, rand);

        rand = keccak256(abi.encodePacked(rand));
        uint256 lightness = randomRange(55, 60, rand);

        return [hue, saturation, lightness];
    }

    function randomRange(
        uint256 min, 
        uint256 max, 
        bytes32 seed
    ) internal pure returns (uint256) {
        require(min <= max, "Min should be less than or equal to max");
        if (min == max) { return min; }
        uint256 range = max - min;
        uint256 randomValue = (uint256(seed) % range) + min;        
        return randomValue;
    }
}
